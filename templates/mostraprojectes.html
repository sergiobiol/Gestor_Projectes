{% extends "base.html" %}
{% block title %}Projectes Alumnes{% endblock %}
{% block content %}
<h2>Projectes alumnes</h2>
{% if error %}
    <p style="color: red;">{{ error }}</p>
{% endif %}
<form method="POST">
    <label for="opciones">Asignatura:</label>
    <select id="opciones" name="buscasignatura">
        <option value="Catala">Catala</option>
        <option value="Castella">Castella</option>
        <option value="Angles">Angles</option>
        <option value="Balatro">Balatro</option>
        <option value="Tots">Tots</option>
    </select>
    <br><br>
    <button type="submit">Filtrar</button>
</form>

<table border="1">
    <thead>
        <tr>
            <th>Usuari</th>
            <th>Nom del projecte</th>
            <th>Asignatura</th>
            <th>Nota</th>
            <th>Acci√≥</th>
        </tr>
    </thead>
    <tbody>
        {% for proyecto in proyectos %}
        <tr>
            <td>{{ usuario }}</td>
            <td>{{ proyecto.titol }}</td>
            <td>{{ proyecto.assignatura }}</td>
            <td>{{ proyecto.nota if proyecto.nota is not none else 'Sense nota' }}</td>
            <td>
                <form method="POST" action="">
                    <input type="hidden" name="proyecto" value="{{ proyecto.titol }}">
                    <button type="submit">Veure</button>
                </form>
            </td>
        </tr>
        {% else %}
        <tr>
            <td colspan="5">No tens cap projecte.</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}